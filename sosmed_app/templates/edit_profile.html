<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Profil</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='main-styles.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="page-wrapper">
        <header class="page-header">
            <h1><i class="fas fa-user-edit"></i> Edit Profil</h1>
        </header>

        <main class="main-content">
            <div class="form-container card">
                <form method="POST" enctype="multipart/form-data" class="profile-form">
                    <div class="form-group">
                        <label for="profile_picture"><i class="fas fa-camera"></i> Foto Profil</label>
                        <div class="avatar-upload">
                            <div class="current-avatar">
                                {% if user.profile_picture %}
                                    <img src="{{ url_for('static', filename='uploads/' + user.profile_picture) }}" alt="Current avatar" id="avatar-preview">
                                {% else %}
                                    <div class="avatar-placeholder medium" id="avatar-preview">{{ session.username[0]|upper }}</div>
                                {% endif %}
                            </div>
                            <label for="profile_picture" class="file-upload-label">
                                <span class="file-input-wrapper">
                                    <input type="file" id="profile_picture" name="profile_picture" accept="image/*">
                                    <span class="file-input-button"><i class="fas fa-upload"></i> Ubah Foto</span>
                                </span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="display_name"><i class="fas fa-signature"></i> Nama Tampilan</label>
                        <input type="text" id="display_name" name="display_name" value="{{ user.display_name or '' }}" placeholder="Nama tampilan Anda">
                    </div>
                    
                    <div class="form-group">
                        <label for="bio"><i class="fas fa-info-circle"></i> Bio</label>
                        <textarea id="bio" name="bio" rows="3" placeholder="Ceritakan tentang diri Anda...">{{ user.bio or '' }}</textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="location"><i class="fas fa-map-marker-alt"></i> Lokasi</label>
                        <input type="text" id="location" name="location" value="{{ user.location or '' }}" placeholder="Kota, Negara">
                    </div>
                    
                    <div class="form-group">
                        <label for="website"><i class="fas fa-globe"></i> Website</label>
                        <input type="url" id="website" name="website" value="{{ user.website or '' }}" placeholder="https://example.com">
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn-primary"><i class="fas fa-save"></i> Simpan Perubahan</button>
                        <a href="{{ url_for('profile', username=session.username) }}" class="btn-secondary"><i class="fas fa-times"></i> Batal</a>
                    </div>
                </form>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <a href="{{ url_for('home') }}" class="nav-item">
                <i class="fas fa-home"></i>
                <span>Home</span>
            </a>
            <a href="{{ url_for('search') }}" class="nav-item">
                <i class="fas fa-search"></i>
                <span>Cari</span>
            </a>
            <a href="{{ url_for('create_post') }}" class="nav-item">
                <i class="fas fa-plus-square"></i>
                <span>Posting</span>
            </a>
            <a href="{{ url_for('feed') }}" class="nav-item">
                <i class="fas fa-newspaper"></i>
                <span>Feed</span>
            </a>
            <a href="{{ url_for('profile', username=session.username) }}" class="nav-item active">
                <i class="fas fa-user"></i>
                <span>Profil</span>
            </a>
        </nav>
    </div>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>